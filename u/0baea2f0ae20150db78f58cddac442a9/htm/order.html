<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order</title>
    <link rel="stylesheet" href="../css/order.css">
</head>
<body>
    <header>
        <div class="button prev_btn">
            <svg width="2em" height="2em"><use href="#download-more" xlink:href="#download-more"></use></svg>
        </div>
        <nav>
            <a href="#" data-status="0">New</a>
            <a href="#" data-status="1">Reviewed</a>
            <a href="#" data-status="2">Fulfilled</a>
        </nav>
        <div class="submenu">
            <div class="button more_icon">
                <svg width="2em" height="2em"><use href="#more-icon" xlink:href="#more-icon"></use></svg>
            </div>
            <menu>
                <li>Mark as reviewed</li>
                <li>Send part invoice</li>
                <li>Send full invoice</li>
            </menu>
        </div>
    </header>
    <main>
        <aside>
            <div class="button download_more">
                <svg width="2em" height="2em"><use href="#download-more" xlink:href="#download-more"></use></svg>
            </div>
            <template>
                <div class="card">
                    <div class="usr"><span class="abbr"></span></div>
                    <div>
                        <div class="name"></div>
                        <div class="date"></div>
                    </div>
                </div>
            </template>
        </aside>
        <section>
            <form name="order-form" id="order-form">
                <table>
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Item</th>
                            <th>Unit Price</th>
                            <th>Qty</th>
                            <th>Price</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="4">Discount</td>
                            <td><input type='number' id='discount' name='discount' placeholder='Amt' min='0'/></td>
                        </tr>
                        <tr>
                            <td colspan="4">Grand Total</td>
                            <td>&#8358; 0</td>
                        </tr>
                    </tfoot>
                </table>
            </form>
        </section>
    </main>
    <dialog id="reviewed-dialog">
        <div class="wrapper stg01">
            <div class="header">
                <div class="button close_icon" onclick="this.closest('dialog').close();this.closest('div.wrapper').classList.replace('stg03','stg01');">
                    <svg width="1em" height="1em"><use href="#close-icon" xlink:href="#close-icon"></use></svg>
                </div>
            </div>
            <div class="body">
                <output>Let <span class="customer"></span> know his/her order is received and reviewed, prompting for settlement?</output>
                <div class="footer">
                    <button type="button" class="button jsYesBtn">YES</button>
                    <button type="button" class="button" onclick="this.closest('dialog').close();">NO</button>
                </div>
            </div>
            <div class="process">
                <div class="loader"></div>
            </div>
            <div class="done">
                <output>Message delivered.</output>
            </div>
        </div>
    </dialog>
    <dialog id="full-invoice-dialog">
        <div class="wrapper stg01">
            <div class="header">
                <div class="button close_icon" onclick="this.closest('dialog').close();this.closest('div.wrapper').classList.replace('stg03','stg01');">
                    <svg width="1em" height="1em"><use href="#close-icon" xlink:href="#close-icon"></use></svg>
                </div>
            </div>
            <div class="body">
                <output>Send <span class="customer"></span> a full invoice?</output>
                <div class="footer">
                    <button type="button" class="button jsYesBtn">YES</button>
                    <button type="button" class="button" onclick="this.closest('dialog').close();">NO</button>
                </div>
            </div>
            <div class="process">
                <div class="loader"></div>
            </div>
            <div class="done">
                <output>Full invoice sent.</output>
            </div>
        </div>
    </dialog>
    <dialog id="part-invoice-dialog">
        <div class="wrapper stg01">
            <div class="header">
                <div class="button close_icon" onclick="this.closest('dialog').close();this.closest('div.wrapper').classList.replace('stg03','stg01');">
                    <svg width="1em" height="1em"><use href="#close-icon" xlink:href="#close-icon"></use></svg>
                </div>
            </div>
            <div class="body">
                <output>Send <span class="customer"></span> an invoice for the part payment of?</output>
                <input type="number" name="bal" id="bal" placeholder="Amount paid for"/>
                <div class="footer">
                    <button type="button" class="button jsYesBtn">YES</button>
                    <button type="button" class="button" onclick="this.closest('dialog').close();">NO</button>
                </div>
            </div>
            <div class="process">
                <div class="loader"></div>
            </div>
            <div class="done">
                <output>Partial invoice sent.</output>
            </div>
        </div>
    </dialog>
    <dialog id="messenger">
        
        <div class="process">
            <div class="loader"></div>
        </div>
        <div class="done">
            <output>Completed.</output>
            <div class="footer">
                <button type="button">CLOSE</button>
            </div>
        </div>
    </dialog>
    <div id="svgs" style="display: none;">
        <?xml version="1.0" encoding="utf-8"?>
        <svg xmlns="http://www.w3.org/2000/svg">
            <symbol id="download-more" width="2em" height="2em" viewBox="0 0 24 24" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M12 3C12.5523 3 13 3.44772 13 4V17.5858L18.2929 12.2929C18.6834 11.9024 19.3166 11.9024 19.7071 12.2929C20.0976 12.6834 20.0976 13.3166 19.7071 13.7071L12.7071 20.7071C12.3166 21.0976 11.6834 21.0976 11.2929 20.7071L4.29289 13.7071C3.90237 13.3166 3.90237 12.6834 4.29289 12.2929C4.68342 11.9024 5.31658 11.9024 5.70711 12.2929L11 17.5858V4C11 3.44772 11.4477 3 12 3Z" fill="#000000"/>
            </symbol>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg">
            <symbol id="more-icon" width="2em" height="2em" viewBox="0 0 24 24" fill="#5F6368">
                <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
            </symbol>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg">
            <symbol id="close-icon" viewBox="0 0 12 12" fill="none" width="1em" height="1em">
                <path d="M11.4671 1.1549L10.3122 0L5.73355 4.57865L1.1549 0L0 1.1549L4.57865 5.73355L0 10.3122L1.1549 11.4671L5.73355 6.88845L10.3122 11.4671L11.4671 10.3122L6.88845 5.73355L11.4671 1.1549Z" fill="#fff"/>
            </symbol>
        </svg>    
    </div>
    <script type="module" src="../js/order.js"></script>
    <script>
        //toggle submenu
        let activeNode;
        const moreIcon = document.querySelector('div.more_icon');
        moreIcon.addEventListener('click', () => {
            activeNode = moreIcon.nextElementSibling;
            moreIcon.nextElementSibling.classList.toggle('shw');
        });
        window.addEventListener('click', (e) => {
            if (activeNode) {
                activeNode.classList.remove('shw');
                activeNode = null;
            }
        }, true);
    </script>
</body>
</html>